# 🏦 SQL Banking Transactions Analysis Project

## 📌 Project Overview 
This project simulates the data architecture and analytics for a financial institution using SQL Server. It is designed to showcase advanced SQL capabilities such as complex queries, window functions, procedures, triggers, and segmentation. The data used comes from a synthetic banking dataset (BankSim) with over 590,000 transactions.
________________________________________
## 🧠 Business Objectives
•	Analyze transaction behavior across categories and customers
•	Detect fraudulent activity or risk patterns
•	Segment customers by activity and value
•	Simulate real-time alerting with SQL triggers
________________________________________
## 🗂️ Project Structure
SQL_Banking_Transactions_Analysis/
├── data/
│   └── bs140513_032310.csv
├── sql/
│   ├── 01_create_tables.sql
│   ├── 02_insert_data.sql
│   ├── 03_analysis_queries.sql
│   ├── 04_advanced_queries.sql
│   ├── 05_views.sql
│   ├── 06_procedures.sql
│   ├── 07_triggers.sql
│   └── 08_segmentation.sql
├── docs/
│   └── README.md
________________________________________
## 🧱 Database Design
Tables Created
•	customers: Customer demographic info
•	transactions: Banking transactions with fraud indicator
•	staging_banking: Temporary table for raw CSV import
•	alertas_transacciones: Alerts generated by triggers
________________________________________
## 🔄 Data Pipeline
1.	CSV is imported into staging_banking
2.	Clean data is inserted into customers and transactions
3.	Duplicate prevention and foreign key integrity enforced
________________________________________
## 🔍 Analysis Queries (03_analysis_queries.sql)
•	Transactions by category and amount range
•	Top spending customers
•	Categories with highest fraud rates
•	Customers with frequent fraud activity
________________________________________
## 🚀 Advanced Queries (04_advanced_queries.sql)
•	Detection of repeated suspicious patterns (same amount)
•	Customers with decreasing transaction values over time
•	Cohort analysis (first transaction step)
•	Lifetime Value (LTV) estimation
•	Fraud risk scoring by percentage
________________________________________
## 📊 Views (05_views.sql)
•	vw_transacciones_por_categoria
•	vw_patrones_repetidos
•	vw_top_clientes_ltv
•	vw_conducta_decreciente
These views are optimized for dashboards or reporting tools.
________________________________________
## ⚙️ Procedures (06_procedures.sql)
•	sp_clientes_fraude_alto: Detects clients with high fraud rate
•	sp_alertas_montos_similares: Finds clients repeating suspicious amounts
•	sp_resumen_general: Summary KPI report on demand
All procedures use logic encapsulation and can be automated.
________________________________________
## 🔔 Triggers (07_triggers.sql)
•	trg_alerta_monto_alto: Alerts on transactions > $5000
•	trg_alerta_fraude: Alerts on transactions marked as fraud
Results go to alertas_transacciones. The top customer C1000148617 was used in simulation with subqueries to dynamically test.
________________________________________
## 🎯 Segmentation (08_segmentation.sql)
•	Activity-based segmentation (high/low usage)
•	Economic value segmentation
•	Fraud risk segmentation
•	Combined segment (activity + value)
Each segment is explained and ready for downstream analysis or targeting.
________________________________________
## ✅ Key Learnings and Highlights
•	Strong normalization and data integrity with foreign keys
•	Use of CTEs, window functions (LAG, ROW_NUMBER, etc.)
•	Automated detection via procedures and triggers
•	Professional formatting, structure, and modular SQL files
________________________________________
📎 Dataset Source
•	Name: bs140513_032310.csv
•	Synthetic dataset by BankSim: simulates 6 months of transactional data
•	~594,000 transactions with labeled fraud
________________________________________
🚀 Author Notes
This project was built step by step in SQL Server Management Studio, ensuring every table, query, and procedure works correctly. It is fully ready to be included in a professional GitHub portfolio to demonstrate advanced SQL capabilities for data analysis, fraud detection, and real-time alert systems.
________________________________________
Author: Daniel (Data Analyst & Engineer) Tools: SQL Server Management Studio, GitHub, BankSim Dataset
