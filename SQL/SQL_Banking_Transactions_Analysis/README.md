# ðŸ¦ SQL Banking Transactions Analysis Project

## ðŸ“Œ Project Overview 
This project simulates the data architecture and analytics for a financial institution using SQL Server. It is designed to showcase advanced SQL capabilities such as complex queries, window functions, procedures, triggers, and segmentation. The data used comes from a synthetic banking dataset (BankSim) with over 590,000 transactions.
________________________________________
## ðŸ§  Business Objectives
â€¢	Analyze transaction behavior across categories and customers
â€¢	Detect fraudulent activity or risk patterns
â€¢	Segment customers by activity and value
â€¢	Simulate real-time alerting with SQL triggers
________________________________________
## ðŸ—‚ï¸ Project Structure
SQL_Banking_Transactions_Analysis/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ bs140513_032310.csv
â”œâ”€â”€ sql/
â”‚   â”œâ”€â”€ 01_create_tables.sql
â”‚   â”œâ”€â”€ 02_insert_data.sql
â”‚   â”œâ”€â”€ 03_analysis_queries.sql
â”‚   â”œâ”€â”€ 04_advanced_queries.sql
â”‚   â”œâ”€â”€ 05_views.sql
â”‚   â”œâ”€â”€ 06_procedures.sql
â”‚   â”œâ”€â”€ 07_triggers.sql
â”‚   â””â”€â”€ 08_segmentation.sql
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ README.md
________________________________________
## ðŸ§± Database Design
Tables Created
â€¢	customers: Customer demographic info
â€¢	transactions: Banking transactions with fraud indicator
â€¢	staging_banking: Temporary table for raw CSV import
â€¢	alertas_transacciones: Alerts generated by triggers
________________________________________
## ðŸ”„ Data Pipeline
1.	CSV is imported into staging_banking
2.	Clean data is inserted into customers and transactions
3.	Duplicate prevention and foreign key integrity enforced
________________________________________
## ðŸ” Analysis Queries (03_analysis_queries.sql)
â€¢	Transactions by category and amount range
â€¢	Top spending customers
â€¢	Categories with highest fraud rates
â€¢	Customers with frequent fraud activity
________________________________________
## ðŸš€ Advanced Queries (04_advanced_queries.sql)
â€¢	Detection of repeated suspicious patterns (same amount)
â€¢	Customers with decreasing transaction values over time
â€¢	Cohort analysis (first transaction step)
â€¢	Lifetime Value (LTV) estimation
â€¢	Fraud risk scoring by percentage
________________________________________
## ðŸ“Š Views (05_views.sql)
â€¢	vw_transacciones_por_categoria
â€¢	vw_patrones_repetidos
â€¢	vw_top_clientes_ltv
â€¢	vw_conducta_decreciente
These views are optimized for dashboards or reporting tools.
________________________________________
## âš™ï¸ Procedures (06_procedures.sql)
â€¢	sp_clientes_fraude_alto: Detects clients with high fraud rate
â€¢	sp_alertas_montos_similares: Finds clients repeating suspicious amounts
â€¢	sp_resumen_general: Summary KPI report on demand
All procedures use logic encapsulation and can be automated.
________________________________________
## ðŸ”” Triggers (07_triggers.sql)
â€¢	trg_alerta_monto_alto: Alerts on transactions > $5000
â€¢	trg_alerta_fraude: Alerts on transactions marked as fraud
Results go to alertas_transacciones. The top customer C1000148617 was used in simulation with subqueries to dynamically test.
________________________________________
## ðŸŽ¯ Segmentation (08_segmentation.sql)
â€¢	Activity-based segmentation (high/low usage)
â€¢	Economic value segmentation
â€¢	Fraud risk segmentation
â€¢	Combined segment (activity + value)
Each segment is explained and ready for downstream analysis or targeting.
________________________________________
## âœ… Key Learnings and Highlights
â€¢	Strong normalization and data integrity with foreign keys
â€¢	Use of CTEs, window functions (LAG, ROW_NUMBER, etc.)
â€¢	Automated detection via procedures and triggers
â€¢	Professional formatting, structure, and modular SQL files
________________________________________
ðŸ“Ž Dataset Source
â€¢	Name: bs140513_032310.csv
â€¢	Synthetic dataset by BankSim: simulates 6 months of transactional data
â€¢	~594,000 transactions with labeled fraud
________________________________________
ðŸš€ Author Notes
This project was built step by step in SQL Server Management Studio, ensuring every table, query, and procedure works correctly. It is fully ready to be included in a professional GitHub portfolio to demonstrate advanced SQL capabilities for data analysis, fraud detection, and real-time alert systems.
________________________________________
Author: Daniel (Data Analyst & Engineer) Tools: SQL Server Management Studio, GitHub, BankSim Dataset
